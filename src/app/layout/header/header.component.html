
<header class="header" [class.search-open]="searchOpen">
	<button class="btn btn-ghost" (click)="toggleSidebar()" aria-label="Alternar menu">☰</button>
	<div class="header__logo">FrotaSys</div>
	<nav class="header__nav">
		<a href="#">Início</a>
		<a href="#">Veículos</a>
		<a href="#">Motoristas</a>
		<a href="#">Relatórios</a>
	</nav>
	<div class="header__actions">
		<!-- debug indicator for sidebar state -->
		<div class="sidebar-debug" aria-hidden="true" style="margin-right:1rem; font-size:0.9rem; color:rgba(255,255,255,0.85);">
			<span *ngIf="sidebar.hiddenValue">[sidebar: hidden]</span>
			<span *ngIf="!sidebar.hiddenValue && sidebar.collapsedValue">[sidebar: collapsed]</span>
			<span *ngIf="!sidebar.hiddenValue && !sidebar.collapsedValue">[sidebar: visible]</span>
		</div>
		<!-- mobile search toggle -->
		<button class="btn btn-ghost mobile-search-toggle" (click)="toggleSearchMobile(searchInput)" aria-label="Pesquisar">
			🔍
		</button>

		<!-- input always in DOM; visibility on mobile controlled by .search-open on header -->
		<div class="search-container">
			<input #searchInput type="search" placeholder="Pesquisar..." class="search-input" aria-label="Pesquisar" [(ngModel)]="searchValue" (keydown)="onSearchKey($event)" />
			<!-- custom clear button (cross) — works in all browsers -->
			<button *ngIf="searchValue" class="btn btn-ghost search-clear-custom" (click)="clearSearch(); searchInput.focus()" aria-label="Limpar pesquisa">
				✕
			</button>
			<button class="btn btn-ghost search-submit" (click)="submitSearch()" aria-label="Enviar pesquisa">🔍</button>
		</div>
		<button class="btn btn-primary">Novo</button>
	</div>
</header>

<header class="header" [class.search-open]="searchOpen" role="banner">
	<!-- Left: sidebar toggle + brand -->
	<div class="header__left">


		<a class="header__brand" routerLink="/" title="FrotaSys - Início">
			<img src="/logotras.png" alt="FrotaSys" class="header__logo" />
		</a>

		<div class="header__tagline" aria-hidden="true">
			<div class="tagline-primary">Visão Completa.</div>
			<div class="tagline-secondary">Decisões Inteligentes.</div>
		</div>
	</div>

		<!-- Navigation moved to the sidebar to keep header minimal -->

	<!-- Right: user menu + search -->
	<div class="header__search-user">
	  <app-user-menu></app-user-menu>
	  <div class="header__search">
		<form class="search-collapsible" [class.open]="searchOpen" (submit)="submitSearch(); $event.preventDefault()">
			<div class="search-input-wrapper">
				<input #searchInput
							 name="search"
							 type="search"
							 class="search-input"
							 placeholder="Pesquisar..."
							 aria-label="Pesquisar"
							 autocomplete="off"
							 [(ngModel)]="searchValue"
							 (keydown)="onSearchKey($event)" />

				<button class="btn search-submit-btn" type="submit" aria-label="Enviar pesquisa" title="Pesquisar">
					<svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
						<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM10 14a4 4 0 110-8 4 4 0 010 8z" fill="#fff"></path>
					</svg>
				</button>
			</div>
		</form>

		<button class="btn btn-ghost search-trigger"
						(click)="toggleSearch(searchInput)"
						[attr.aria-label]="searchOpen ? 'Fechar pesquisa' : 'Abrir pesquisa'"
						[attr.aria-expanded]="searchOpen"
						title="Pesquisar">
			<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
				<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM10 14a4 4 0 110-8 4 4 0 010 8z" fill="currentColor"></path>
			</svg>
		</button>
	  </div>
	</div>
</header>

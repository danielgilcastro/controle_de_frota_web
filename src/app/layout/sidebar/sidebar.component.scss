@use 'sass:color';
@use '../../../styles/variables' as *;

/* Estilos do Sidebar (colapsável) */
:host { display: block; }

.sidebar {
  background: $color-surface;
  color: $color-text;
  width: 220px;
  min-height: 100vh;
  border-right: 1px solid $color-primary;
  padding: 2rem 1rem;
  transition: width 200ms ease, padding 200ms ease, background 200ms ease;

  .sidebar__item {
    display: flex;
    align-items: center;
    gap: 1rem;
    color: $color-text;
    padding: 0.75rem 1rem;
    border-radius: 4px;
    margin-bottom: 0.5rem;
    transition: background 0.2s, color 0.2s;
    cursor: pointer;
  }
  
  .sidebar__item:hover, .sidebar__item.active {
    background: $color-accent;
    color: $color-background;
  }

  /* Icon and label inside item */
  .sidebar__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 34px;
    height: 34px;
    background: $color-primary;
    color: $color-background;
    border-radius: 8px;
    flex: 0 0 34px;
    font-size: 16px;
  }
  
  .sidebar__label {
    flex: 1 1 auto;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

.sidebar--hidden {
  transform: translateX(-100%);
  visibility: hidden;
  transition: transform 220ms ease, visibility 220ms ease;
}

.sidebar--collapsed {
  /* reduzir visualmente a sidebar — esconder o conteúdo do menu */
  width: 0;
  padding: 0;
  overflow: hidden;
  border-right: none;
  background: $color-surface;
  transition: width 200ms ease, padding 200ms ease, transform 200ms ease;

  /* esconder elemento de cabeçalho e itens do menu */
  .card-header,
  .sidebar__item {
    display: none !important;
  }

  /* esconder ícone e label quando colapsado (menu deve sumir) */
  .sidebar__icon,
  .sidebar__label { display: none !important; }
}

/* Quando colapsado, o conteúdo já é escondido pelas regras acima (display:none) */
@media (max-width: 768px) {
  .sidebar { position: absolute; z-index: 60; top: 0; left: 0; height: 100vh; }
  .sidebar--hidden { transform: translateX(-100%); }
}